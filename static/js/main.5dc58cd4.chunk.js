(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),o=a(5),l=a.n(o),u=a(6),i=a(9),m=a(1),d=a(4),p=(a(16),function(e){return fetch("https://jsonplaceholder.typicode.com"+e).then((function(e){return e.json()}))}),b=function(e){var t=e.todo;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"todo__user"},t.user?t.user.name:"Unknown"),r.a.createElement("span",null,t.title),r.a.createElement("i",{className:"secondary-content"},t.completed?r.a.createElement("i",{className:"material-icons"},"Completed"):r.a.createElement("i",{className:"material-icons color-red"},"In Process")))},f=function(e){var t=e.setSortType,a=e.sortType,n=e.title;return r.a.createElement("button",{type:"button",className:"sort-button waves-effect waves-light btn mgb20",onClick:function(){return t(a)}},n)},y=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),o=Object(m.a)(s,2),y=o[0],E=o[1],j=Object(n.useState)(!1),O=Object(m.a)(j,2),h=O[0],v=O[1],N=Object(n.useState)(!1),S=Object(m.a)(N,2),g=S[0],w=S[1],T=Object(n.useState)(""),k=Object(m.a)(T,2),_=k[0],C=k[1],x=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Promise.all([p("/todos"),p("/users")]);case 4:t=e.sent,a=Object(m.a)(t,2),n=a[0],r=a[1],c=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{user:r.find((function(t){return t.id===e.userId}))})})),E(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),C("Loading error, please try again later");case 15:v(!1),w(!0);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),F=Object(n.useMemo)((function(){return function(e,t){switch(t){case"title":return Object(d.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}));case"id":return Object(d.a)(e).sort((function(e,t){return e.id-t.id}));case"userName":return Object(d.a)(e).sort((function(e,t){return e.user&&t.user?e.user.name.localeCompare(t.user.name):0}));default:return e}}(y,a)}),[y,a]);return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Dynamic list of TODOs"),!g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",disabled:h,className:"button waves-effect waves-light btn mgb20",onClick:x},h?"Loading...":"load todos"),_&&r.a.createElement("span",{className:"error"},_)),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"buttons"},r.a.createElement(f,{setSortType:c,title:"Sort by title",sortType:"title"}),r.a.createElement(f,{setSortType:c,title:"Sort by id",sortType:"id"}),r.a.createElement(f,{setSortType:c,title:"Sort by name",sortType:"userName"})),r.a.createElement("ul",{className:"todo-list"},F.map((function(e){return r.a.createElement("li",{key:e.id,className:"todo-list__item"},r.a.createElement(b,{todo:e}))})))))};s.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.5dc58cd4.chunk.js.map